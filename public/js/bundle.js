(()=>{var kr=Object.create;var D=Object.defineProperty,jr=Object.defineProperties,Fr=Object.getOwnPropertyDescriptor,Mr=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertyNames,le=Object.getOwnPropertySymbols,Ir=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable;var pe=(r,e,t)=>e in r?D(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,V=(r,e)=>{for(var t in e||(e={}))de.call(e,t)&&pe(r,t,e[t]);if(le)for(var t of le(e))Jr.call(e,t)&&pe(r,t,e[t]);return r},z=(r,e)=>jr(r,Mr(e)),Hr=r=>D(r,"__esModule",{value:!0});var d=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Vr=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _r(e))!de.call(r,s)&&(t||s!=="default")&&D(r,s,{get:()=>e[s],enumerable:!(n=Fr(e,s))||n.enumerable});return r},P=(r,e)=>Vr(Hr(D(r!=null?kr(Ir(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var p=(r,e,t)=>new Promise((n,s)=>{var a=c=>{try{u(t.next(c))}catch(l){s(l)}},i=c=>{try{u(t.throw(c))}catch(l){s(l)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,i);u((t=t.apply(r,e)).next())});var K=d((Ht,me)=>{"use strict";me.exports=function(e,t){return function(){for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];return e.apply(t,s)}}});var b=d((Vt,ve)=>{"use strict";var zr=K(),A=Object.prototype.toString;function W(r){return A.call(r)==="[object Array]"}function X(r){return typeof r=="undefined"}function Kr(r){return r!==null&&!X(r)&&r.constructor!==null&&!X(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Wr(r){return A.call(r)==="[object ArrayBuffer]"}function Xr(r){return typeof FormData!="undefined"&&r instanceof FormData}function $r(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&r.buffer instanceof ArrayBuffer,e}function Gr(r){return typeof r=="string"}function Yr(r){return typeof r=="number"}function he(r){return r!==null&&typeof r=="object"}function k(r){if(A.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function Zr(r){return A.call(r)==="[object Date]"}function Qr(r){return A.call(r)==="[object File]"}function et(r){return A.call(r)==="[object Blob]"}function we(r){return A.call(r)==="[object Function]"}function rt(r){return he(r)&&we(r.pipe)}function tt(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function st(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function nt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function $(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),W(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.call(null,r[s],s,r)}function G(){var r={};function e(s,a){k(r[a])&&k(s)?r[a]=G(r[a],s):k(s)?r[a]=G({},s):W(s)?r[a]=s.slice():r[a]=s}for(var t=0,n=arguments.length;t<n;t++)$(arguments[t],e);return r}function ot(r,e,t){return $(e,function(s,a){t&&typeof s=="function"?r[a]=zr(s,t):r[a]=s}),r}function at(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}ve.exports={isArray:W,isArrayBuffer:Wr,isBuffer:Kr,isFormData:Xr,isArrayBufferView:$r,isString:Gr,isNumber:Yr,isObject:he,isPlainObject:k,isUndefined:X,isDate:Zr,isFile:Qr,isBlob:et,isFunction:we,isStream:rt,isURLSearchParams:tt,isStandardBrowserEnv:nt,forEach:$,merge:G,extend:ot,trim:st,stripBOM:at}});var Y=d((zt,be)=>{"use strict";var T=b();function ye(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}be.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(T.isURLSearchParams(t))s=t.toString();else{var a=[];T.forEach(t,function(c,l){c===null||typeof c=="undefined"||(T.isArray(c)?l=l+"[]":c=[c],T.forEach(c,function(f){T.isDate(f)?f=f.toISOString():T.isObject(f)&&(f=JSON.stringify(f)),a.push(ye(l)+"="+ye(f))}))}),s=a.join("&")}if(s){var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}});var xe=d((Kt,ge)=>{"use strict";var it=b();function j(){this.handlers=[]}j.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};j.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};j.prototype.forEach=function(e){it.forEach(this.handlers,function(n){n!==null&&e(n)})};ge.exports=j});var Ee=d((Wt,qe)=>{"use strict";var ut=b();qe.exports=function(e,t){ut.forEach(e,function(s,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[a])})}});var Z=d((Xt,Se)=>{"use strict";Se.exports=function(e,t,n,s,a){return e.config=t,n&&(e.code=n),e.request=s,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var Q=d(($t,Pe)=>{"use strict";var ct=Z();Pe.exports=function(e,t,n,s,a){var i=new Error(e);return ct(i,t,n,s,a)}});var Ce=d((Gt,Ae)=>{"use strict";var ft=Q();Ae.exports=function(e,t,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(ft("Request failed with status code "+n.status,n.config,null,n.request,n))}});var Te=d((Yt,Oe)=>{"use strict";var F=b();Oe.exports=F.isStandardBrowserEnv()?function(){return{write:function(t,n,s,a,i,u){var c=[];c.push(t+"="+encodeURIComponent(n)),F.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),F.isString(a)&&c.push("path="+a),F.isString(i)&&c.push("domain="+i),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Ne=d((Zt,Re)=>{"use strict";Re.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var Ue=d((Qt,Le)=>{"use strict";Le.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}});var De=d((es,Be)=>{"use strict";var lt=Ne(),dt=Ue();Be.exports=function(e,t){return e&&!lt(t)?dt(e,t):t}});var je=d((rs,ke)=>{"use strict";var ee=b(),pt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ke.exports=function(e){var t={},n,s,a;return e&&ee.forEach(e.split(`
`),function(u){if(a=u.indexOf(":"),n=ee.trim(u.substr(0,a)).toLowerCase(),s=ee.trim(u.substr(a+1)),n){if(t[n]&&pt.indexOf(n)>=0)return;n==="set-cookie"?t[n]=(t[n]?t[n]:[]).concat([s]):t[n]=t[n]?t[n]+", "+s:s}}),t}});var _e=d((ts,Me)=>{"use strict";var Fe=b();Me.exports=Fe.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function s(a){var i=a;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(i){var u=Fe.isString(i)?s(i):i;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}()});var L=d((ss,Ie)=>{"use strict";function re(r){this.message=r}re.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};re.prototype.__CANCEL__=!0;Ie.exports=re});var se=d((ns,Je)=>{"use strict";var M=b(),mt=Ce(),ht=Te(),wt=Y(),vt=De(),yt=je(),bt=_e(),te=Q(),gt=U(),xt=L();Je.exports=function(e){return new Promise(function(n,s){var a=e.data,i=e.headers,u=e.responseType,c;function l(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}M.isFormData(a)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(f+":"+h)}var y=vt(e.baseURL,e.url);o.open(e.method.toUpperCase(),wt(y,e.params,e.paramsSerializer),!0),o.timeout=e.timeout;function E(){if(!!o){var w="getAllResponseHeaders"in o?yt(o.getAllResponseHeaders()):null,O=!u||u==="text"||u==="json"?o.responseText:o.response,S={data:O,status:o.status,statusText:o.statusText,headers:w,config:e,request:o};mt(function(H){n(H),l()},function(H){s(H),l()},S),o=null}}if("onloadend"in o?o.onloadend=E:o.onreadystatechange=function(){!o||o.readyState!==4||o.status===0&&!(o.responseURL&&o.responseURL.indexOf("file:")===0)||setTimeout(E)},o.onabort=function(){!o||(s(te("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){s(te("Network Error",e,null,o)),o=null},o.ontimeout=function(){var O=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",S=e.transitional||gt.transitional;e.timeoutErrorMessage&&(O=e.timeoutErrorMessage),s(te(O,e,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",o)),o=null},M.isStandardBrowserEnv()){var C=(e.withCredentials||bt(y))&&e.xsrfCookieName?ht.read(e.xsrfCookieName):void 0;C&&(i[e.xsrfHeaderName]=C)}"setRequestHeader"in o&&M.forEach(i,function(O,S){typeof a=="undefined"&&S.toLowerCase()==="content-type"?delete i[S]:o.setRequestHeader(S,O)}),M.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),u&&u!=="json"&&(o.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&o.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(w){!o||(s(!w||w&&w.type?new xt("canceled"):w),o.abort(),o=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),a||(a=null),o.send(a)})}});var U=d((os,ze)=>{"use strict";var v=b(),He=Ee(),qt=Z(),Et={"Content-Type":"application/x-www-form-urlencoded"};function Ve(r,e){!v.isUndefined(r)&&v.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function St(){var r;return typeof XMLHttpRequest!="undefined"?r=se():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(r=se()),r}function Pt(r,e,t){if(v.isString(r))try{return(e||JSON.parse)(r),v.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var _={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:St(),transformRequest:[function(e,t){return He(t,"Accept"),He(t,"Content-Type"),v.isFormData(e)||v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e)?e:v.isArrayBufferView(e)?e.buffer:v.isURLSearchParams(e)?(Ve(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):v.isObject(e)||t&&t["Content-Type"]==="application/json"?(Ve(t,"application/json"),Pt(e)):e}],transformResponse:[function(e){var t=this.transitional||_.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||s&&v.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(a)throw i.name==="SyntaxError"?qt(i,this,"E_JSON_PARSE"):i}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};v.forEach(["delete","get","head"],function(e){_.headers[e]={}});v.forEach(["post","put","patch"],function(e){_.headers[e]=v.merge(Et)});ze.exports=_});var We=d((as,Ke)=>{"use strict";var At=b(),Ct=U();Ke.exports=function(e,t,n){var s=this||Ct;return At.forEach(n,function(i){e=i.call(s,e,t)}),e}});var ne=d((is,Xe)=>{"use strict";Xe.exports=function(e){return!!(e&&e.__CANCEL__)}});var Ye=d((us,Ge)=>{"use strict";var $e=b(),oe=We(),Ot=ne(),Tt=U(),Rt=L();function ae(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Rt("canceled")}Ge.exports=function(e){ae(e),e.headers=e.headers||{},e.data=oe.call(e,e.data,e.headers,e.transformRequest),e.headers=$e.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),$e.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||Tt.adapter;return t(e).then(function(s){return ae(e),s.data=oe.call(e,s.data,s.headers,e.transformResponse),s},function(s){return Ot(s)||(ae(e),s&&s.response&&(s.response.data=oe.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})}});var ie=d((cs,Ze)=>{"use strict";var g=b();Ze.exports=function(e,t){t=t||{};var n={};function s(o,f){return g.isPlainObject(o)&&g.isPlainObject(f)?g.merge(o,f):g.isPlainObject(f)?g.merge({},f):g.isArray(f)?f.slice():f}function a(o){if(g.isUndefined(t[o])){if(!g.isUndefined(e[o]))return s(void 0,e[o])}else return s(e[o],t[o])}function i(o){if(!g.isUndefined(t[o]))return s(void 0,t[o])}function u(o){if(g.isUndefined(t[o])){if(!g.isUndefined(e[o]))return s(void 0,e[o])}else return s(void 0,t[o])}function c(o){if(o in t)return s(e[o],t[o]);if(o in e)return s(void 0,e[o])}var l={url:i,method:i,data:i,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return g.forEach(Object.keys(e).concat(Object.keys(t)),function(f){var h=l[f]||a,y=h(f);g.isUndefined(y)&&h!==c||(n[f]=y)}),n}});var ue=d((fs,Qe)=>{Qe.exports={version:"0.24.0"}});var tr=d((ls,rr)=>{"use strict";var Nt=ue().version,ce={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){ce[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var er={};ce.transitional=function(e,t,n){function s(a,i){return"[Axios v"+Nt+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return function(a,i,u){if(e===!1)throw new Error(s(i," has been removed"+(t?" in "+t:"")));return t&&!er[i]&&(er[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,i,u):!0}};function Lt(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),s=n.length;s-- >0;){var a=n[s],i=e[a];if(i){var u=r[a],c=u===void 0||i(u,a,r);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+a)}}rr.exports={assertOptions:Lt,validators:ce}});var ur=d((ds,ir)=>{"use strict";var sr=b(),Ut=Y(),nr=xe(),or=Ye(),I=ie(),ar=tr(),R=ar.validators;function B(r){this.defaults=r,this.interceptors={request:new nr,response:new nr}}B.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=I(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;t!==void 0&&ar.assertOptions(t,{silentJSONParsing:R.transitional(R.boolean),forcedJSONParsing:R.transitional(R.boolean),clarifyTimeoutError:R.transitional(R.boolean)},!1);var n=[],s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(s=s&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var i;if(!s){var u=[or,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(a),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var c=e;n.length;){var l=n.shift(),o=n.shift();try{c=l(c)}catch(f){o(f);break}}try{i=or(c)}catch(f){return Promise.reject(f)}for(;a.length;)i=i.then(a.shift(),a.shift());return i};B.prototype.getUri=function(e){return e=I(this.defaults,e),Ut(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};sr.forEach(["delete","get","head","options"],function(e){B.prototype[e]=function(t,n){return this.request(I(n||{},{method:e,url:t,data:(n||{}).data}))}});sr.forEach(["post","put","patch"],function(e){B.prototype[e]=function(t,n,s){return this.request(I(s||{},{method:e,url:t,data:n}))}});ir.exports=B});var fr=d((ps,cr)=>{"use strict";var Bt=L();function N(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(s){e=s});var t=this;this.promise.then(function(n){if(!!t._listeners){var s,a=t._listeners.length;for(s=0;s<a;s++)t._listeners[s](n);t._listeners=null}}),this.promise.then=function(n){var s,a=new Promise(function(i){t.subscribe(i),s=i}).then(n);return a.cancel=function(){t.unsubscribe(s)},a},r(function(s){t.reason||(t.reason=new Bt(s),e(t.reason))})}N.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};N.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};N.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};N.source=function(){var e,t=new N(function(s){e=s});return{token:t,cancel:e}};cr.exports=N});var dr=d((ms,lr)=>{"use strict";lr.exports=function(e){return function(n){return e.apply(null,n)}}});var mr=d((hs,pr)=>{"use strict";pr.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var vr=d((ws,fe)=>{"use strict";var hr=b(),Dt=K(),J=ur(),kt=ie(),jt=U();function wr(r){var e=new J(r),t=Dt(J.prototype.request,e);return hr.extend(t,J.prototype,e),hr.extend(t,e),t.create=function(s){return wr(kt(r,s))},t}var x=wr(jt);x.Axios=J;x.Cancel=L();x.CancelToken=fr();x.isCancel=ne();x.VERSION=ue().version;x.all=function(e){return Promise.all(e)};x.spread=dr();x.isAxiosError=mr();fe.exports=x;fe.exports.default=x});var q=d((vs,yr)=>{yr.exports=vr()});var br=P(q());var m=(r,e)=>{Ft();let t=`<p class="alert alert--${r}">${e}</p>`;document.querySelector("body").insertAdjacentHTML("afterbegin",t)},Ft=()=>{let r=document.querySelector(".alert");r&&r.remove()};var gr=(r,e)=>p(void 0,null,function*(){try{if((yield br.default.post("/api/v1/users/login",{email:r,password:e})).data.status==="Success"){m("success","Successfully logged in");let s=new URL(window.location.href).searchParams.get("redirect");if(s)return window.location.href=s;window.location.href="/"}}catch(t){m("error",t.response.data.message)}});var xr=()=>p(void 0,null,function*(){if(confirm("Are you sure you want to logout?"))try{(yield fetch("/api/v1/users/logout")).ok&&(m("success","You have been logged out"),window.location.reload())}catch(e){m("error",e.message)}});var Mt="pk.eyJ1Ijoic2FjaGluNTUiLCJhIjoiY2t3dnVjZGhuMjNzYTJ2bGMxemVyaWd6MCJ9.8HfTVTWt-JrfeeVwmWqeQA",qr=(r,e)=>{mapboxgl.accessToken=Mt;let t=new mapboxgl.Map({container:"map",style:"mapbox://styles/sachin55/ckwvuijkn35zq14n24kc85bso",scrollZoom:!1}),n=new mapboxgl.LngLatBounds;e.forEach(s=>{let a=document.createElement("div");a.className="marker",new mapboxgl.Marker({element:a,anchor:"bottom"}).setLngLat(s.coordinates).addTo(t),new mapboxgl.Popup({offset:30}).setLngLat(s.coordinates).setHTML(`<p>Day ${s.day} : ${s.description}</p>`).addTo(t),n.extend(s.coordinates)}),t.fitBounds(n,{padding:{top:200,bottom:200,left:100,right:100}})};var Er=P(q());var Sr=(r,e,t)=>p(void 0,null,function*(){try{(yield Er.default.post("/api/v1/users/change-password",{confirmPassword:t,password:e,currentPassword:r})).status===200&&(m("success","Successfully changed password"),window.location.reload())}catch(n){m("error",n.response.data.message)}});var Pr=P(q());var Ar=r=>p(void 0,null,function*(){try{(yield Pr.default.patch("/api/v1/users/update-profile",r)).data.status==="Success"&&(m("success","Successfully updated profile"),setTimeout(()=>window.location.reload(),2e3))}catch(e){m(e.response.data.message)}});var Cr=P(q()),Or=(r,e,t)=>p(void 0,null,function*(){try{(yield Cr.default.post(`/api/v1/users/resetPassword/${r}`,{newPassword:e,confirmNewPassword:t})).status===200&&(m("success","Password changed successfully"),setTimeout(()=>window.location.href="/login",2e3))}catch(n){m("error",n.response.data.message)}});var Tr=P(q());var Rr=(r,e,t,n)=>p(void 0,null,function*(){try{(yield Tr.default.post("/api/v1/users/signup",{name:r,email:e,password:t,passwordConfirm:n})).status===200&&(m("success","Succesfully created a new account"),setTimeout(()=>window.location.href="/",2e3))}catch(s){m("error",s.response.data.message)}});var Nr=P(q());var Lr=r=>p(void 0,null,function*(){try{let e=yield Nr.default.post("/api/v1/users/forgotPassword",{email:r});e.status===200&&m("success",e.data.message)}catch(e){m("error",e.response.data.message)}});var Ur=P(q());var _t="pk_test_51KAB9XCO8m1gZ84iEwOb7tJiPsKI22FKxVfRZ6ekhK42IEEKdA1MQP2TfX28p3VEmzfobhk3BPg0JJChGQaTdh1Z00XMoPAOFv",It=new Stripe(_t),Br=r=>p(void 0,null,function*(){try{let t=(yield Ur.default.get(`/api/v1/bookings/checkout-session/${r}`)).data.data.session;t&&((yield It.redirectToCheckout({sessionId:t.id})).error||(window.location.href=window.location.href.split("?")[0]))}catch(e){m("error",e.response.data.message)}});window.addEventListener("DOMContentLoaded",()=>{let r=document.querySelector("#login-form"),e=document.querySelector("#signup-form"),t=document.querySelector("#forgot-password-form"),n=document.querySelector("#reset-password-form"),s=document.querySelector("#map"),a=document.querySelector("#logout"),i=document.querySelector("#book-tour"),u=document.querySelector("#change-password"),c=document.querySelector("#update-profile");if(s){let l=JSON.parse(s.dataset.locations);qr(s,l)}if(a&&a.addEventListener("click",()=>p(void 0,null,function*(){yield xr()})),r&&r.addEventListener("submit",l=>p(void 0,null,function*(){l.preventDefault();let o=new FormData(l.target),f=o.get("email"),h=o.get("password");yield gr(f,h)})),e&&e.addEventListener("submit",l=>p(void 0,null,function*(){l.preventDefault();let o=l.target.querySelectorAll("input"),{name:f,email:h,password:y,passwordConfirm:E}=Array.from(o).reduce((C,w)=>z(V({},C),{[w.name]:w.value}),{});if(y!==E)return m("success","Password didn't match");yield Rr(f,h,y,E)})),u&&u.addEventListener("submit",l=>p(void 0,null,function*(){l.preventDefault();let o=l.target.querySelector("#password-current").value,f=l.target.querySelector("#password").value,h=l.target.querySelector("#password-confirm").value;yield Sr(o,f,h)})),t&&t.addEventListener("submit",l=>p(void 0,null,function*(){l.preventDefault();let o=l.target.querySelector("#email").value;yield Lr(o)})),n){let o=new URLSearchParams(window.location.search).get("resetToken");n.addEventListener("submit",f=>p(void 0,null,function*(){f.preventDefault();let h=f.target.querySelectorAll("input"),{newPassword:y,confirmNewPassword:E}=Array.from(h).reduce((C,w)=>z(V({},C),{[w.name]:w.value}),{});yield Or(o,y,E)}))}c&&c.addEventListener("submit",l=>p(void 0,null,function*(){l.preventDefault();let o=l.target.querySelector("#name").value,f=l.target.querySelector("#email").value,h=l.target.querySelector("#photo").files[0],y=new FormData;y.append("name",o),y.append("email",f),y.append("photo",h),yield Ar(y)})),i&&i.addEventListener("click",l=>p(void 0,null,function*(){i.innerText="Processing...";let o=i.dataset.tourid;Br(o)}))});})();
